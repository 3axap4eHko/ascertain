<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.24" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const useChoice = localStorage.getItem('vuepress-color-scheme')
      const systemStatus =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (useChoice === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (useChoice === 'dark' || systemStatus) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <title>Ascertain | Ascertain</title><meta name="description" content="0-Deps, simple, blazing fast, for browser and Node.js object schema validator">
    <link rel="preload" href="/ascertain/assets/style-Cy7QDzew.css" as="style"><link rel="stylesheet" href="/ascertain/assets/style-Cy7QDzew.css">
    <link rel="modulepreload" href="/ascertain/assets/app-CH6iDSF9.js"><link rel="modulepreload" href="/ascertain/assets/index.html-NxAse-M8.js">
    <link rel="prefetch" href="/ascertain/assets/404.html-YGBBs-i3.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/ascertain/"><!----><span class="vp-site-name" aria-hidden="true">Ascertain</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link route-link-active auto-link" href="/ascertain/" aria-label="Home"><!--[--><!--[--><!--]--><!--]-->Home<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/3axap4ehko/evnty" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->GitHub<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><!----><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link route-link-active auto-link" href="/ascertain/" aria-label="Home"><!--[--><!--[--><!--]--><!--]-->Home<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/3axap4ehko/evnty" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->GitHub<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Ascertain <!----></p><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div id="content"><h1 id="ascertain" tabindex="-1"><a class="header-anchor" href="#ascertain"><span>Ascertain</span></a></h1><h3 id="ascertain-what-data-is-not-suitable-for-your-library" tabindex="-1"><a class="header-anchor" href="#ascertain-what-data-is-not-suitable-for-your-library"><span>Ascertain what data is not suitable for your library</span></a></h3><p>0-Deps, simple, blazing fast, for browser and Node.js object schema validator</p><p><a href="https://codecov.io/gh/3axap4eHko/ascertain" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/codecov/c/github/3axap4eHko/ascertain/master.svg?maxAge=43200" alt="Coverage Status"></a><a href="https://github.com/3axap4eHko/ascertain/actions/workflows/cicd.yml" target="_blank" rel="noopener noreferrer"><img src="https://github.com/3axap4eHko/ascertain/actions/workflows/cicd.yml/badge.svg" alt="Build Status"></a><a href="https://www.npmjs.com/package/ascertain" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/npm/v/ascertain.svg?maxAge=43200" alt="NPM version"></a><a href="https://www.npmjs.com/package/ascertain" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/npm/dw/ascertain.svg?maxAge=43200" alt="Downloads"></a><a href="https://snyk.io/test/npm/ascertain/latest" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/snyk/vulnerabilities/github/3axap4eHko/ascertain.svg?maxAge=43200" alt="Snyk"></a></p><h2 id="features" tabindex="-1"><a class="header-anchor" href="#features"><span>Features</span></a></h2><ul><li>Type-safe validation: Ensures your data conforms to predefined schemas.</li><li>Composite schemas: Supports logical AND, OR, and optional schemas.</li><li>Type casting: Automatically parses and casts strings to other types.</li><li>Error handling: Provides detailed error messages for invalid data.</li></ul><h2 id="schema-description" tabindex="-1"><a class="header-anchor" href="#schema-description"><span>Schema description</span></a></h2><ul><li>Primitive Values: Any primitive value (e.g., string, number, bigint, boolean, undefined, symbol, null) is used as an expected constant to match against.</li><li>Function Types: Functions are used as constructors for non-objects and instance types for object types.</li><li>Array Values: Arrays are used to represent an expected array type, where every item in the array must match the specified type (acting as an &quot;and&quot; operator).</li><li>Regular Expressions: Regular expressions are used to validate that a value matches a specified string pattern.</li><li>Object Types: Non-null objects are used as templates for expected properties, where each property of the object must match the corresponding schema definition.</li></ul><h2 id="api" tabindex="-1"><a class="header-anchor" href="#api"><span>API</span></a></h2><ul><li><a href="#keys"><code>$keys</code></a></li><li><a href="#values"><code>$values</code></a></li><li><a href="#strict"><code>$strict</code></a></li><li><a href="#orschemas-schema"><code>or(...schemas: Schema[])</code></a></li><li><a href="#andschemas-schema"><code>and(...schemas: Schema[])</code></a></li><li><a href="#optionalschema-schema"><code>optional(schema: Schema)</code></a></li><li><a href="#tupleschemas-schema"><code>tuple(...schemas: Schema[])</code></a></li><li><a href="#compileschema-schema-rootname-string"><code>compile(schema: Schema, rootName: string)</code></a></li><li><a href="#ascertainschema-schema-data-t-rootname--root"><code>ascertain(schema: Schema, data: T, rootName = &quot;[root]&quot;)</code></a></li></ul><h3 id="keys" tabindex="-1"><a class="header-anchor" href="#keys"><span><code>$keys</code></span></a></h3><p>Symbol for validating object keys against a schema.</p><h3 id="values" tabindex="-1"><a class="header-anchor" href="#values"><span><code>$values</code></span></a></h3><p>Symbol for validating object values against a schema.</p><h3 id="strict" tabindex="-1"><a class="header-anchor" href="#strict"><span><code>$strict</code></span></a></h3><p>Symbol for enforcing strict object validation (no extra properties allowed).</p><h3 id="orschemas-schema" tabindex="-1"><a class="header-anchor" href="#orschemas-schema"><span><code>or(...schemas: Schema[])</code></span></a></h3><p>Operator for validating data against any of the provided schemas (logical OR).</p><p>Creates a schema that accepts data matching any one of the provided schemas. This is useful for creating union types or alternative validation paths.</p><ul><li>@template T - The type of data the operator validates.</li><li>@param schemas - Multiple schemas where at least one must match the data.</li><li>@returns A schema that validates data against any of the provided schemas.</li></ul><h3 id="andschemas-schema" tabindex="-1"><a class="header-anchor" href="#andschemas-schema"><span><code>and(...schemas: Schema[])</code></span></a></h3><p>Operator for validating data against all provided schemas (logical AND).</p><p>Creates a schema that requires data to match every one of the provided schemas. This is useful for combining multiple validation requirements or adding constraints.</p><ul><li>@template T - The type of data the operator validates.</li><li>@param schemas - Multiple schemas that all must match the data.</li><li>@returns A schema that validates data against all of the provided schemas.</li></ul><h3 id="optionalschema-schema" tabindex="-1"><a class="header-anchor" href="#optionalschema-schema"><span><code>optional(schema: Schema)</code></span></a></h3><p>Operator for making a schema optional (nullable).</p><p>Creates a schema that accepts the provided schema or null/undefined values. This is useful for optional object properties or nullable fields.</p><ul><li>@template T - The type of data the operator validates.</li><li>@param schema - The schema to make optional.</li><li>@returns A schema that validates data against the provided schema or accepts null/undefined.</li></ul><h3 id="tupleschemas-schema" tabindex="-1"><a class="header-anchor" href="#tupleschemas-schema"><span><code>tuple(...schemas: Schema[])</code></span></a></h3><p>Operator for validating data against a fixed-length tuple of schemas.</p><p>Creates a schema that validates arrays with a specific length and type for each position. This is useful for coordinate pairs, RGB values, or any fixed-structure data.</p><ul><li>@template T - The type of data the operator validates (a tuple of types).</li><li>@param schemas - Schemas for each position in the tuple, in order.</li><li>@returns A schema that validates data as a tuple with the specified structure.</li></ul><h3 id="compileschema-schema-rootname-string" tabindex="-1"><a class="header-anchor" href="#compileschema-schema-rootname-string"><span><code>compile(schema: Schema, rootName: string)</code></span></a></h3><p>Compiles a schema into a validation function.</p><p>This function takes a schema definition and generates a JavaScript function that can be used to validate data against the schema.</p><ul><li>@template T - The type of data the schema validates.</li><li>@param schema - The schema to compile.</li><li>@param rootName - A name for the root of the data structure (used in error messages).</li><li>@returns A validation function that takes data as input and throws a TypeError if the data does not conform to the schema.</li></ul><h3 id="ascertainschema-schema-data-t-rootname--root" tabindex="-1"><a class="header-anchor" href="#ascertainschema-schema-data-t-rootname--root"><span><code>ascertain(schema: Schema, data: T, rootName = &quot;[root]&quot;)</code></span></a></h3><p>Asserts that data conforms to a given schema.</p><p>This function is a convenient wrapper around <code>compile</code>. It compiles the schema and immediately validates the provided data against it.</p><ul><li>@template T - The type of data the schema validates.</li><li>@param schema - The schema to validate against.</li><li>@param data - The data to validate.</li><li>@param rootName - A name for the root of the data structure (used in error messages, defaults to &#39;[root]&#39;).</li><li>@throws <code>{TypeError}</code> If the data does not conform to the schema.</li></ul><h2 id="usage-example" tabindex="-1"><a class="header-anchor" href="#usage-example"><span>Usage Example</span></a></h2><h3 id="schema-compilation" tabindex="-1"><a class="header-anchor" href="#schema-compilation"><span>Schema compilation</span></a></h3><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> compile<span class="token punctuation">,</span> optional<span class="token punctuation">,</span> and<span class="token punctuation">,</span> or<span class="token punctuation">,</span> $keys<span class="token punctuation">,</span> $values<span class="token punctuation">,</span> Schema<span class="token punctuation">,</span> <span class="token keyword">as</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;ascertain&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> validate <span class="token operator">=</span> <span class="token function">compile</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token builtin">number</span><span class="token operator">:</span> Number<span class="token punctuation">,</span></span>
<span class="line">  <span class="token builtin">string</span><span class="token operator">:</span> String<span class="token punctuation">,</span></span>
<span class="line">  <span class="token builtin">boolean</span><span class="token operator">:</span> Boolean<span class="token punctuation">,</span></span>
<span class="line">  <span class="token keyword">function</span><span class="token operator">:</span> <span class="token builtin">Function</span><span class="token punctuation">,</span></span>
<span class="line">  array<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token punctuation">,</span></span>
<span class="line">  object<span class="token operator">:</span> Object<span class="token punctuation">,</span></span>
<span class="line">  date<span class="token operator">:</span> <span class="token function">and</span><span class="token punctuation">(</span>Date<span class="token punctuation">,</span> <span class="token punctuation">{</span> toJSON<span class="token operator">:</span> <span class="token builtin">Function</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">  regexp<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">regexp</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span></span>
<span class="line">  oneOfValue<span class="token operator">:</span> <span class="token function">or</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">  arrayOfNumbers<span class="token operator">:</span> <span class="token punctuation">[</span>Number<span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  objectSchema<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token builtin">number</span><span class="token operator">:</span> Number<span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  optional<span class="token operator">:</span> <span class="token function">optional</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token builtin">number</span><span class="token operator">:</span> Number<span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">  keyValue<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token punctuation">[</span>$keys<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^key[A-Z]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">[</span>$values<span class="token punctuation">]</span><span class="token operator">:</span> Number</span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  parsedNumber<span class="token operator">:</span> Number<span class="token punctuation">,</span></span>
<span class="line">  parsedString<span class="token operator">:</span> String<span class="token punctuation">,</span></span>
<span class="line">  parsedBoolean<span class="token operator">:</span> Boolean<span class="token punctuation">,</span></span>
<span class="line">  parsedArray<span class="token operator">:</span> <span class="token punctuation">[</span>String<span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  parsedJSON<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token builtin">number</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  parsedBase64<span class="token operator">:</span> String<span class="token punctuation">,</span></span>
<span class="line">  parsedTime<span class="token operator">:</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token comment">// two minutes</span></span>
<span class="line">  parsedDate<span class="token operator">:</span> Date<span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="runtime-validation" tabindex="-1"><a class="header-anchor" href="#runtime-validation"><span>Runtime validation</span></a></h3><p>Create data ascertain</p><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> ascertain<span class="token punctuation">,</span> optional<span class="token punctuation">,</span> and<span class="token punctuation">,</span> or<span class="token punctuation">,</span> $keys<span class="token punctuation">,</span> $values<span class="token punctuation">,</span> Schema<span class="token punctuation">,</span> <span class="token keyword">as</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;ascertain&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// create data sample</span></span>
<span class="line"><span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token builtin">number</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token builtin">string</span><span class="token operator">:</span> <span class="token string">&#39;string&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token builtin">boolean</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token function-variable function">function</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  array<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  object<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  date<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">,</span></span>
<span class="line">  regexp<span class="token operator">:</span> <span class="token string">&#39;regexp&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  oneOfValue<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">  arrayOfNumbers<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  objectSchema<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token builtin">number</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  optional<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span></span>
<span class="line">  keyValue<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    keyOne<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">    keyTwo<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span></span>
<span class="line">    keyThree<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token comment">// fault tolernat type casting</span></span>
<span class="line">  parsedNumber<span class="token operator">:</span> <span class="token keyword">as</span><span class="token punctuation">.</span><span class="token function">number</span><span class="token punctuation">(</span><span class="token string">&#39;1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">  parsedString<span class="token operator">:</span> <span class="token keyword">as</span><span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token string">&#39;string&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">  parsedBoolean<span class="token operator">:</span> <span class="token keyword">as</span><span class="token punctuation">.</span><span class="token function">boolean</span><span class="token punctuation">(</span><span class="token string">&#39;false&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">  parsedArray<span class="token operator">:</span> <span class="token keyword">as</span><span class="token punctuation">.</span><span class="token function">array</span><span class="token punctuation">(</span><span class="token string">&#39;1,2,3,4,5&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;,&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">  parsedJSON<span class="token operator">:</span> <span class="token keyword">as</span><span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token string">&#39;{ &quot;number&quot;: 1 }&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">  parsedBase64<span class="token operator">:</span> <span class="token keyword">as</span><span class="token punctuation">.</span><span class="token function">base64</span><span class="token punctuation">(</span><span class="token string">&#39;dGVzdA==&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">  parsedTime<span class="token operator">:</span> <span class="token keyword">as</span><span class="token punctuation">.</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token string">&#39;2m&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">  parsedDate<span class="token operator">:</span> <span class="token keyword">as</span><span class="token punctuation">.</span><span class="token function">date</span><span class="token punctuation">(</span><span class="token string">&#39;31-12-2024&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// create data schema</span></span>
<span class="line"><span class="token keyword">const</span> schema<span class="token operator">:</span> Schema<span class="token operator">&lt;</span><span class="token keyword">typeof</span> data<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token builtin">number</span><span class="token operator">:</span> Number<span class="token punctuation">,</span></span>
<span class="line">  <span class="token builtin">string</span><span class="token operator">:</span> String<span class="token punctuation">,</span></span>
<span class="line">  <span class="token builtin">boolean</span><span class="token operator">:</span> Boolean<span class="token punctuation">,</span></span>
<span class="line">  <span class="token keyword">function</span><span class="token operator">:</span> <span class="token builtin">Function</span><span class="token punctuation">,</span></span>
<span class="line">  array<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token punctuation">,</span></span>
<span class="line">  object<span class="token operator">:</span> Object<span class="token punctuation">,</span></span>
<span class="line">  date<span class="token operator">:</span> <span class="token function">and</span><span class="token punctuation">(</span>Date<span class="token punctuation">,</span> <span class="token punctuation">{</span> toJSON<span class="token operator">:</span> <span class="token builtin">Function</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">  regexp<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">regexp</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span></span>
<span class="line">  oneOfValue<span class="token operator">:</span> <span class="token function">or</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">  arrayOfNumbers<span class="token operator">:</span> <span class="token punctuation">[</span>Number<span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  objectSchema<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token builtin">number</span><span class="token operator">:</span> Number<span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  optional<span class="token operator">:</span> <span class="token function">optional</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token builtin">number</span><span class="token operator">:</span> Number<span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">  keyValue<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token punctuation">[</span>$keys<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^key[A-Z]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">[</span>$values<span class="token punctuation">]</span><span class="token operator">:</span> Number</span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  parsedNumber<span class="token operator">:</span> Number<span class="token punctuation">,</span></span>
<span class="line">  parsedString<span class="token operator">:</span> String<span class="token punctuation">,</span></span>
<span class="line">  parsedBoolean<span class="token operator">:</span> Boolean<span class="token punctuation">,</span></span>
<span class="line">  parsedArray<span class="token operator">:</span> <span class="token punctuation">[</span>String<span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  parsedJSON<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token builtin">number</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  parsedBase64<span class="token operator">:</span> String<span class="token punctuation">,</span></span>
<span class="line">  parsedTime<span class="token operator">:</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token comment">// two minutes</span></span>
<span class="line">  parsedDate<span class="token operator">:</span> Date<span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// validate</span></span>
<span class="line"><span class="token keyword">const</span> validate <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ascertain</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">typeof</span> data<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>schema<span class="token punctuation">,</span> data<span class="token punctuation">,</span> <span class="token string">&#39;[DATA]&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="benchmark-vs-zod-and-ajv" tabindex="-1"><a class="header-anchor" href="#benchmark-vs-zod-and-ajv"><span>Benchmark VS zod and ajv</span></a></h3><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">⭐ Script ajv-vs-zod-vs-ascertain.js</span>
<span class="line">  ⇶ Suite ajv vs zod vs ascertain</span>
<span class="line">    ➤ Perform benchmark</span>
<span class="line">      ✓ Measure 500000 zod static schema validation</span>
<span class="line">        ┌──────────┬──────────┬──────────┬──────────┬────────────┬────────┐</span>
<span class="line">        │ (index)  │ med      │ p95      │ p99      │ total      │ count  │</span>
<span class="line">        ├──────────┼──────────┼──────────┼──────────┼────────────┼────────┤</span>
<span class="line">        │ 0.000699 │ 0.000788 │ 0.000996 │ 0.001624 │ 462.602373 │ 500000 │</span>
<span class="line">        └──────────┴──────────┴──────────┴──────────┴────────────┴────────┘</span>
<span class="line">      ✓ Measure 500000 zod dynamic schema validation</span>
<span class="line">        ┌──────────┬──────────┬──────────┬──────────┬─────────────┬────────┐</span>
<span class="line">        │ (index)  │ med      │ p95      │ p99      │ total       │ count  │</span>
<span class="line">        ├──────────┼──────────┼──────────┼──────────┼─────────────┼────────┤</span>
<span class="line">        │ 0.006248 │ 0.006918 │ 0.007524 │ 0.016948 │ 3780.465563 │ 500000 │</span>
<span class="line">        └──────────┴──────────┴──────────┴──────────┴─────────────┴────────┘</span>
<span class="line">      ✓ Measure 500000 ascertain static schema validation</span>
<span class="line">        ┌──────────┬──────────┬──────────┬──────────┬───────────┬────────┐</span>
<span class="line">        │ (index)  │ med      │ p95      │ p99      │ total     │ count  │</span>
<span class="line">        ├──────────┼──────────┼──────────┼──────────┼───────────┼────────┤</span>
<span class="line">        │ 0.000063 │ 0.000071 │ 0.000098 │ 0.000267 │ 41.673271 │ 500000 │</span>
<span class="line">        └──────────┴──────────┴──────────┴──────────┴───────────┴────────┘</span>
<span class="line">      ✓ Measure 500000 ascertain dynamic schema validation</span>
<span class="line">        ┌──────────┬──────────┬──────────┬──────────┬────────────┬────────┐</span>
<span class="line">        │ (index)  │ med      │ p95      │ p99      │ total      │ count  │</span>
<span class="line">        ├──────────┼──────────┼──────────┼──────────┼────────────┼────────┤</span>
<span class="line">        │ 0.000367 │ 0.000415 │ 0.000525 │ 0.001055 │ 239.078129 │ 500000 │</span>
<span class="line">        └──────────┴──────────┴──────────┴──────────┴────────────┴────────┘</span>
<span class="line">      ✓ Measure 500000 ajv compiled schema validation</span>
<span class="line">        ┌──────────┬──────────┬──────────┬──────────┬───────────┬────────┐</span>
<span class="line">        │ (index)  │ med      │ p95      │ p99      │ total     │ count  │</span>
<span class="line">        ├──────────┼──────────┼──────────┼──────────┼───────────┼────────┤</span>
<span class="line">        │ 0.000063 │ 0.000072 │ 0.000124 │ 0.000307 │ 44.542936 │ 500000 │</span>
<span class="line">        └──────────┴──────────┴──────────┴──────────┴───────────┴────────┘</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="license" tabindex="-1"><a class="header-anchor" href="#license"><span>License</span></a></h2><p>License <a href="http://opensource.org/licenses/MIT" target="_blank" rel="noopener noreferrer">The MIT License</a> Copyright (c) 2019-2025 Ivan Zakharchanka</p></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Last Updated: </span><time class="meta-item-info" datetime="2025-07-13T20:54:21.000Z" data-allow-mismatch>7/13/25, 8:54 PM</time></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 3axap4eHko@gmail.com">Ivan Zakharchanka</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: 3axap4eHko@gmail.com">3axap4eHko</span><!----><!--]--><!--]--></span></div></div></footer><!----><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/ascertain/assets/app-CH6iDSF9.js" defer></script>
  </body>
</html>
